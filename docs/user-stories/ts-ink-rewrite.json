{
  "project": "LazyReview TypeScript/React Ink Rewrite",
  "version": "1.0.0",
  "createdAt": "2026-02-06",
  "prdReference": "docs/plans/2026-02-06-ts-ink-rewrite-prd.md",
  "epics": [
    {
      "id": "E1",
      "name": "Foundation",
      "description": "Project setup, core infrastructure, and domain models",
      "phase": 1,
      "stories": [
        {
          "id": "US-001",
          "title": "Initialize pnpm monorepo",
          "description": "As a developer, I want a pnpm monorepo structure so that packages are organized and dependencies are shared efficiently",
          "acceptanceCriteria": [
            "pnpm-workspace.yaml configured with apps/* and packages/*",
            "Root package.json with workspace scripts (build, test, lint, typecheck)",
            "tsconfig.base.json with strict mode and path aliases",
            "ESLint and Prettier configured at root level",
            "All packages can be built with `pnpm build`",
            "All packages can be tested with `pnpm test`"
          ],
          "priority": "P0",
          "estimate": "S",
          "dependencies": []
        },
        {
          "id": "US-002",
          "title": "Create core domain models",
          "description": "As a developer, I want typed domain models so that data is consistent across the application",
          "acceptanceCriteria": [
            "PullRequest model with all fields (id, number, title, body, state, author, etc.)",
            "Review model with state, author, body, comments",
            "Comment model with type (general, inline, review), path, line, replies",
            "Diff model with files, hunks, lines",
            "User model with id, login, name, avatarUrl",
            "Workspace model with id, name, repos",
            "All models exported from @lazyreview/core",
            "Zod schemas for runtime validation",
            "Unit tests for all model validation"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-001"]
        },
        {
          "id": "US-003",
          "title": "Implement config system",
          "description": "As a user, I want my existing config.yaml to work so that I don't need to reconfigure the app",
          "acceptanceCriteria": [
            "Loads config from ~/.config/lazyreview/config.yaml",
            "Zod schema validates all config sections",
            "Default values for all optional fields",
            "Config includes: version, default_provider, ui, performance, ai, keybindings, providers",
            "100% compatible with Go version config format",
            "Config can be programmatically updated and saved",
            "Unit tests for config loading and validation"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-001"]
        },
        {
          "id": "US-004",
          "title": "Implement SQLite storage layer",
          "description": "As a user, I want my workspaces and favorites persisted so that they survive app restarts",
          "acceptanceCriteria": [
            "SQLite database at ~/.local/share/lazyreview/lazyreview.db",
            "Tables: workspaces, recent_repos, favorites, settings, queue_actions",
            "Migrations system for schema updates",
            "CRUD operations for workspaces",
            "Recent repos tracking with limit",
            "Favorites management",
            "Settings key-value store",
            "Unit tests for all storage operations"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-001"]
        },
        {
          "id": "US-005",
          "title": "Implement memory cache with TTL",
          "description": "As a user, I want API responses cached so that the app feels responsive",
          "acceptanceCriteria": [
            "Generic Cache<T> class with TTL support",
            "Configurable staleTime and gcTime",
            "Thread-safe operations",
            "Cache can be cleared programmatically",
            "Integrates with TanStack Query persister",
            "Unit tests for cache behavior"
          ],
          "priority": "P0",
          "estimate": "S",
          "dependencies": ["US-001"]
        },
        {
          "id": "US-006",
          "title": "Implement credential keyring storage",
          "description": "As a user, I want my tokens stored securely so that they're not exposed in plain text",
          "acceptanceCriteria": [
            "Uses OS keyring (keytar) for secure storage",
            "Store/retrieve/delete credentials by provider+host",
            "List all stored credentials",
            "Graceful fallback if keyring unavailable",
            "Unit tests with mock keyring"
          ],
          "priority": "P0",
          "estimate": "S",
          "dependencies": ["US-001"]
        },
        {
          "id": "US-007",
          "title": "Create basic CLI structure",
          "description": "As a user, I want to run `lazyreview --version` so that I can verify installation",
          "acceptanceCriteria": [
            "Commander.js CLI with subcommands structure",
            "Default action starts TUI",
            "`lazyreview --version` shows version",
            "`lazyreview --help` shows all commands",
            "Debug flag (`-d`, `--debug`) enables verbose logging",
            "CLI entry point at apps/cli/src/index.ts"
          ],
          "priority": "P0",
          "estimate": "S",
          "dependencies": ["US-001"]
        }
      ]
    },
    {
      "id": "E2",
      "name": "Provider SDKs",
      "description": "Git provider integrations with typed API clients",
      "phase": 2,
      "stories": [
        {
          "id": "US-008",
          "title": "Set up OpenAPI type generation",
          "description": "As a developer, I want types generated from OpenAPI specs so that API calls are fully typed",
          "acceptanceCriteria": [
            "Script to download OpenAPI specs for GitHub, GitLab, Bitbucket, Azure DevOps",
            "openapi-typescript generates types to types.generated.ts",
            "Types are re-exported from each provider module",
            "Script can be run with `pnpm generate:types`",
            "Generated types are committed to repo"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-001"]
        },
        {
          "id": "US-009",
          "title": "Create Axios base client",
          "description": "As a developer, I want a configured Axios instance so that all requests have consistent behavior",
          "acceptanceCriteria": [
            "Axios instance factory with configurable baseURL, token, timeout",
            "Request interceptor for auth header injection",
            "Response interceptor for error transformation",
            "Retry logic for 429 and 5xx errors with exponential backoff",
            "Rate limiter integration (token bucket)",
            "Unit tests for interceptors and retry logic"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-001"]
        },
        {
          "id": "US-010",
          "title": "Implement GitHub provider SDK",
          "description": "As a user, I want to connect to GitHub so that I can review PRs from GitHub repos",
          "acceptanceCriteria": [
            "All Provider interface methods implemented",
            "Uses generated types from GitHub OpenAPI spec",
            "Mappers convert API responses to domain models",
            "Supports both github.com and GitHub Enterprise",
            "Handles pagination for list operations",
            "Integration tests with GitHub API (mocked)"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-008", "US-009", "US-002"]
        },
        {
          "id": "US-011",
          "title": "Implement GitLab provider SDK",
          "description": "As a user, I want to connect to GitLab so that I can review MRs from GitLab projects",
          "acceptanceCriteria": [
            "All Provider interface methods implemented",
            "Uses generated types from GitLab OpenAPI spec",
            "Mappers convert API responses to domain models",
            "Supports both gitlab.com and self-hosted",
            "Handles pagination for list operations",
            "Integration tests with GitLab API (mocked)"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-008", "US-009", "US-002"]
        },
        {
          "id": "US-012",
          "title": "Implement Bitbucket provider SDK",
          "description": "As a user, I want to connect to Bitbucket so that I can review PRs from Bitbucket repos",
          "acceptanceCriteria": [
            "All Provider interface methods implemented",
            "Uses generated types from Bitbucket OpenAPI spec",
            "Mappers convert API responses to domain models",
            "Supports both bitbucket.org and Bitbucket Server",
            "Handles pagination for list operations",
            "Integration tests with Bitbucket API (mocked)"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-008", "US-009", "US-002"]
        },
        {
          "id": "US-013",
          "title": "Implement Azure DevOps provider SDK",
          "description": "As a user, I want to connect to Azure DevOps so that I can review PRs from ADO repos",
          "acceptanceCriteria": [
            "All Provider interface methods implemented",
            "Uses generated types from Azure DevOps API spec",
            "Mappers convert API responses to domain models",
            "Handles pagination for list operations",
            "Integration tests with Azure DevOps API (mocked)"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-008", "US-009", "US-002"]
        },
        {
          "id": "US-014",
          "title": "Implement TanStack Query hooks",
          "description": "As a developer, I want React Query hooks so that data fetching is declarative with caching",
          "acceptanceCriteria": [
            "Query key factory for type-safe keys",
            "usePullRequests hook with filtering",
            "usePullRequest hook for single PR",
            "useReviews hook",
            "useComments hook",
            "useDiff hook",
            "Mutation hooks: useApprovePR, useRequestChanges, useCreateComment",
            "Optimistic updates for mutations",
            "Unit tests for all hooks"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-010"]
        },
        {
          "id": "US-015",
          "title": "Implement auth CLI commands",
          "description": "As a user, I want to login/logout via CLI so that I can authenticate with providers",
          "acceptanceCriteria": [
            "`lazyreview auth login --provider github` prompts for token",
            "`lazyreview auth login --provider github --token <token>` stores token",
            "Token can be provided via LAZYREVIEW_TOKEN env var",
            "`lazyreview auth logout --provider github` removes credential",
            "`lazyreview auth logout --all` removes all credentials",
            "`lazyreview auth status` shows auth status for all providers",
            "Token is validated with provider API before storing"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-006", "US-007", "US-010"]
        }
      ]
    },
    {
      "id": "E3",
      "name": "TUI Core",
      "description": "React Ink setup and core UI components",
      "phase": 3,
      "stories": [
        {
          "id": "US-016",
          "title": "Set up React Ink application",
          "description": "As a developer, I want React Ink configured so that I can build terminal UI components",
          "acceptanceCriteria": [
            "React Ink 5.x installed and configured",
            "App.tsx as root component",
            "QueryProvider wraps app for TanStack Query",
            "ThemeProvider wraps app for theming",
            "App renders without errors",
            "Exit handling (Ctrl+C, q) works correctly"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-007", "US-014"]
        },
        {
          "id": "US-017",
          "title": "Implement Zustand app store",
          "description": "As a developer, I want global state management so that UI state is shared across components",
          "acceptanceCriteria": [
            "AppStore with navigation state (currentView, currentPanel, sidebarMode)",
            "Selection state (selectedRepo, selectedPRNumber)",
            "UI state (searchQuery, filters, isHelpOpen)",
            "Actions for all state mutations",
            "Selector hooks for performance",
            "subscribeWithSelector middleware for side effects"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-016"]
        },
        {
          "id": "US-018",
          "title": "Implement theme system",
          "description": "As a user, I want to switch themes so that I can customize the app appearance",
          "acceptanceCriteria": [
            "5 built-in themes: default, lazygit, gruvbox, catppuccin, high-contrast",
            "Theme includes: bg colors, text colors, status colors, diff colors, borders",
            "ThemeContext provides current theme",
            "useTheme hook for accessing theme",
            "Theme switchable via config",
            "High-contrast theme meets WCAG AA"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-016", "US-003"]
        },
        {
          "id": "US-019",
          "title": "Implement VirtualList component",
          "description": "As a user, I want smooth scrolling through 10,000+ PRs so that the app stays responsive",
          "acceptanceCriteria": [
            "Only renders visible items + overscan",
            "Configurable itemHeight and containerHeight",
            "Keyboard navigation (j/k, arrows, gg, G, Ctrl+u/d)",
            "Smooth scrolling at 60fps",
            "Handles list updates without scroll jump",
            "Benchmark: 10,000 items with no frame drops",
            "Unit tests for rendering and navigation"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-016"]
        },
        {
          "id": "US-020",
          "title": "Implement keyboard handling system",
          "description": "As a user, I want vim-style keybindings so that I can navigate efficiently",
          "acceptanceCriteria": [
            "useKeyboard hook captures all key events",
            "Keybinding map loaded from config",
            "Support for single keys, modifiers (Ctrl, Shift, Alt)",
            "Support for key chords (gg, gc, gr) with 500ms timeout",
            "Visual feedback during chord input",
            "Help overlay (?) shows all keybindings",
            "Keybindings are context-aware (different per view)"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-016", "US-003"]
        },
        {
          "id": "US-021",
          "title": "Implement 3-panel layout",
          "description": "As a user, I want a clean 3-panel layout so that information is organized clearly",
          "acceptanceCriteria": [
            "Left sidebar (collapsible repos/filters)",
            "Main content area (PR list, detail, dashboard)",
            "Bottom detail panel (diff, comments, timeline)",
            "StatusBar at bottom with keybindings",
            "Tab key cycles through panels",
            "Panels resize based on terminal size",
            "Focus indicator shows active panel"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-016", "US-018"]
        },
        {
          "id": "US-022",
          "title": "Implement PR list screen",
          "description": "As a user, I want to see my PRs in a list so that I can select one to review",
          "acceptanceCriteria": [
            "Displays PR list with columns: Author, Title, Status, Updated",
            "Status indicators: ● Open, ○ Draft, ✓ Merged, ✗ Closed",
            "Relative timestamps (2h ago, 1d ago)",
            "Selected row is highlighted",
            "Enter key opens PR detail",
            "/ key opens search filter",
            "R key refreshes list",
            "Loading state while fetching",
            "Error state with retry option"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-019", "US-020", "US-021", "US-014"]
        },
        {
          "id": "US-023",
          "title": "Implement sidebar with repo tree",
          "description": "As a user, I want to browse repos in a tree so that I can switch between repositories",
          "acceptanceCriteria": [
            "Tree structure: Provider > Org > Repo",
            "Collapsible nodes with ▸/▾ indicators",
            "h/l keys expand/collapse",
            "Repo selection updates PR list",
            "Shows PR count per repo",
            "Recent repos section at top",
            "Favorites section"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-021", "US-004"]
        },
        {
          "id": "US-024",
          "title": "Implement search and filter",
          "description": "As a user, I want to filter PRs so that I can find what I'm looking for",
          "acceptanceCriteria": [
            "/ key opens search input",
            "Real-time filtering as you type",
            "Filter by: author, title, state, labels",
            "Filter presets: My PRs, Review Requested, All",
            "Esc closes search without clearing",
            "Enter confirms search",
            "Filter state persists until cleared"
          ],
          "priority": "P1",
          "estimate": "M",
          "dependencies": ["US-022"]
        }
      ]
    },
    {
      "id": "E4",
      "name": "PR Detail",
      "description": "PR detail view with diff, comments, and actions",
      "phase": 4,
      "stories": [
        {
          "id": "US-025",
          "title": "Implement DiffViewer component",
          "description": "As a user, I want to see code diffs so that I can review changes",
          "acceptanceCriteria": [
            "Unified diff view with +/- indicators",
            "Line numbers for old and new",
            "Syntax highlighting for common languages",
            "Hunk headers show context (@@ -1,5 +1,7 @@)",
            "Added lines in green, removed in red",
            "Context lines in muted color",
            "Scrollable with j/k navigation",
            "Jump between hunks with [ and ]"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-019", "US-018"]
        },
        {
          "id": "US-026",
          "title": "Implement FileTree component",
          "description": "As a user, I want to see changed files in a tree so that I can navigate the diff",
          "acceptanceCriteria": [
            "Hierarchical tree matching directory structure",
            "File status icons: + added, ~ modified, - deleted, → renamed",
            "Collapsible directories",
            "File selection updates DiffViewer",
            "Shows additions/deletions count per file",
            "j/k navigation, Enter to select"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-019"]
        },
        {
          "id": "US-027",
          "title": "Implement PR detail screen",
          "description": "As a user, I want to see PR details so that I understand what I'm reviewing",
          "acceptanceCriteria": [
            "Header with PR title, number, author, branch",
            "Tabs: Files, Comments, Timeline, Description",
            "Tab navigation with number keys (1-4) or Tab",
            "Files tab shows FileTree + DiffViewer",
            "Comments tab shows threaded comments",
            "Timeline tab shows activity history",
            "Description tab shows PR body (markdown rendered)",
            "Esc returns to PR list"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-025", "US-026", "US-014"]
        },
        {
          "id": "US-028",
          "title": "Implement review actions",
          "description": "As a user, I want to approve/request changes so that I can complete my review",
          "acceptanceCriteria": [
            "a key opens approve dialog",
            "r key opens request changes dialog",
            "Dialog allows optional comment",
            "Optimistic update shows pending state",
            "Success message on completion",
            "Error handling with retry option",
            "Review state updates in UI immediately"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-027", "US-014"]
        },
        {
          "id": "US-029",
          "title": "Implement comment creation",
          "description": "As a user, I want to add comments so that I can provide feedback",
          "acceptanceCriteria": [
            "c key on diff line opens inline comment input",
            "gc chord opens general comment input",
            "Multi-line text input with vim-like editing",
            "Ctrl+Enter submits comment",
            "Esc cancels comment",
            "Comment appears in thread immediately (optimistic)",
            "Supports markdown formatting"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-027", "US-014"]
        },
        {
          "id": "US-030",
          "title": "Implement comment management",
          "description": "As a user, I want to edit/delete/reply to comments so that I can manage discussion",
          "acceptanceCriteria": [
            "e key edits selected comment",
            "d key deletes selected comment (with confirmation)",
            "r key replies to selected comment",
            "R key resolves comment thread",
            "Only own comments can be edited/deleted",
            "Thread collapse/expand with Enter"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-029"]
        },
        {
          "id": "US-031",
          "title": "Implement merge functionality",
          "description": "As a user, I want to merge PRs so that I can complete the review process",
          "acceptanceCriteria": [
            "m key opens merge dialog",
            "Shows merge method options (merge, squash, rebase)",
            "Shows merge requirements status (checks, approvals)",
            "Disabled if PR is not mergeable",
            "Confirmation before merge",
            "Success/error feedback",
            "PR list updates after merge"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-027", "US-014"]
        },
        {
          "id": "US-032",
          "title": "Implement checkout and open in browser",
          "description": "As a user, I want to checkout the branch so that I can test locally",
          "acceptanceCriteria": [
            "C key checks out PR branch locally",
            "Shows git fetch/checkout progress",
            "Error if working directory is dirty",
            "o key opens PR in browser",
            "Uses system default browser"
          ],
          "priority": "P1",
          "estimate": "S",
          "dependencies": ["US-027"]
        }
      ]
    },
    {
      "id": "E5",
      "name": "Advanced Features",
      "description": "Dashboard, workspaces, AI review, offline support",
      "phase": 5,
      "stories": [
        {
          "id": "US-033",
          "title": "Implement dashboard view",
          "description": "As a user, I want a dashboard so that I can see PRs grouped by relevance",
          "acceptanceCriteria": [
            "Sections: Needs Your Review, Your PRs, Recent Activity",
            "Each section shows top 5 PRs with 'show more'",
            "Needs Review shows PRs where user is requested reviewer",
            "Your PRs shows user's open PRs",
            "Recent Activity shows recently merged/closed",
            "d key switches to dashboard from any view",
            "Enter on PR goes to detail view"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-022", "US-014"]
        },
        {
          "id": "US-034",
          "title": "Implement workspace management",
          "description": "As a user, I want workspaces so that I can organize repos into groups",
          "acceptanceCriteria": [
            "w key opens workspace manager",
            "Create workspace with name and repo list",
            "Edit/delete existing workspaces",
            "Switch between workspaces",
            "Workspace filters PR list to included repos",
            "Workspaces persisted to SQLite"
          ],
          "priority": "P1",
          "estimate": "M",
          "dependencies": ["US-004", "US-023"]
        },
        {
          "id": "US-035",
          "title": "Implement AI provider SDK",
          "description": "As a developer, I want AI provider clients so that AI review can be integrated",
          "acceptanceCriteria": [
            "AIProvider interface with review and summarize methods",
            "OpenAI provider implementation",
            "Anthropic provider implementation",
            "Ollama provider implementation",
            "Provider factory with fallback chain",
            "Cost tracking per request",
            "Unit tests for each provider"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-009"]
        },
        {
          "id": "US-036",
          "title": "Implement AI review in TUI",
          "description": "As a user, I want AI-assisted review so that I can get suggestions",
          "acceptanceCriteria": [
            "A key triggers AI review on current PR",
            "Shows loading state during analysis",
            "Displays AI suggestions in overlay",
            "Strictness levels: relaxed, standard, strict",
            "Cost estimate shown before review",
            "Monthly cost limit enforcement",
            "Can dismiss or apply suggestions"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-035", "US-027"]
        },
        {
          "id": "US-037",
          "title": "Implement AI CLI commands",
          "description": "As a user, I want to configure AI via CLI so that I can set up API keys",
          "acceptanceCriteria": [
            "`lazyreview ai login --provider openai` prompts for API key",
            "`lazyreview ai logout` removes stored key",
            "`lazyreview ai status` shows configured provider",
            "API key stored securely in keyring",
            "Supports LAZYREVIEW_AI_API_KEY env var"
          ],
          "priority": "P0",
          "estimate": "S",
          "dependencies": ["US-007", "US-006"]
        },
        {
          "id": "US-038",
          "title": "Implement offline queue",
          "description": "As a user, I want actions queued when offline so that I can work without network",
          "acceptanceCriteria": [
            "Actions queued to SQLite when network unavailable",
            "Queue supports: comment, approve, request changes",
            "Visual indicator shows pending queue items",
            "`lazyreview queue sync` processes pending actions",
            "Retry with exponential backoff",
            "Conflict resolution for stale PRs"
          ],
          "priority": "P1",
          "estimate": "M",
          "dependencies": ["US-004", "US-014"]
        },
        {
          "id": "US-039",
          "title": "Implement settings screen",
          "description": "As a user, I want to configure settings in TUI so that I don't need to edit YAML",
          "acceptanceCriteria": [
            "Settings accessible via sidebar",
            "Theme selection dropdown",
            "Vim mode toggle",
            "Cache TTL configuration",
            "AI strictness level",
            "Changes saved to config.yaml",
            "Changes take effect immediately"
          ],
          "priority": "P2",
          "estimate": "M",
          "dependencies": ["US-003", "US-021"]
        }
      ]
    },
    {
      "id": "E6",
      "name": "Polish & Distribution",
      "description": "Performance, packaging, and release automation",
      "phase": 6,
      "stories": [
        {
          "id": "US-040",
          "title": "Performance optimization",
          "description": "As a user, I want fast startup and smooth scrolling so that the app feels native",
          "acceptanceCriteria": [
            "Cold startup <100ms",
            "Warm startup <50ms",
            "List scrolling at 60fps",
            "Memory usage <50MB idle",
            "Benchmark suite in CI",
            "Performance regression alerts"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-019", "US-022"]
        },
        {
          "id": "US-041",
          "title": "Implement doctor command",
          "description": "As a user, I want a health check so that I can diagnose issues",
          "acceptanceCriteria": [
            "`lazyreview doctor` checks system health",
            "Checks: Node version, auth status, config validity, network",
            "Shows warnings and errors with fix suggestions",
            "Exit code 0 if healthy, 1 if issues"
          ],
          "priority": "P1",
          "estimate": "S",
          "dependencies": ["US-007"]
        },
        {
          "id": "US-042",
          "title": "Implement self-update",
          "description": "As a user, I want to update the app so that I get latest features",
          "acceptanceCriteria": [
            "`lazyreview update` checks for new version",
            "Downloads and installs latest release",
            "Works for both npm and binary installs",
            "Shows changelog summary",
            "Rollback option if update fails"
          ],
          "priority": "P1",
          "estimate": "M",
          "dependencies": ["US-007"]
        },
        {
          "id": "US-043",
          "title": "Implement keys command",
          "description": "As a user, I want to see keybindings so that I can learn the shortcuts",
          "acceptanceCriteria": [
            "`lazyreview keys` shows all keybindings",
            "`lazyreview keys --vim` shows vim-style (default)",
            "`lazyreview keys --standard` shows standard keys",
            "Grouped by category (navigation, actions, etc.)",
            "Includes chord sequences"
          ],
          "priority": "P1",
          "estimate": "S",
          "dependencies": ["US-007", "US-003"]
        },
        {
          "id": "US-044",
          "title": "Implement config CLI commands",
          "description": "As a user, I want to manage config via CLI so that I can view and edit settings",
          "acceptanceCriteria": [
            "`lazyreview config path` shows config file location",
            "`lazyreview config show` displays current config",
            "`lazyreview config edit` opens in $EDITOR",
            "Config validated after edit"
          ],
          "priority": "P1",
          "estimate": "S",
          "dependencies": ["US-007", "US-003"]
        },
        {
          "id": "US-045",
          "title": "Set up binary packaging",
          "description": "As a user, I want a single binary so that I don't need Node.js installed",
          "acceptanceCriteria": [
            "pkg packages app into single executable",
            "Builds for: darwin-arm64, darwin-x64, linux-x64, linux-arm64, win-x64",
            "Binary size <20MB",
            "All native deps bundled correctly",
            "Binary works without Node.js installed"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-016"]
        },
        {
          "id": "US-046",
          "title": "Set up npm publishing",
          "description": "As a user, I want to install via npm so that I can use my preferred package manager",
          "acceptanceCriteria": [
            "Package published to npm as 'lazyreview'",
            "`npm install -g lazyreview` works",
            "`npx lazyreview` works without install",
            "Package includes only necessary files",
            "README with usage instructions"
          ],
          "priority": "P0",
          "estimate": "S",
          "dependencies": ["US-045"]
        },
        {
          "id": "US-047",
          "title": "Set up Homebrew tap",
          "description": "As a macOS user, I want to install via Homebrew so that I can manage it with brew",
          "acceptanceCriteria": [
            "Homebrew tap repository created",
            "Formula installs latest binary",
            "`brew tap tauantcamargo/tap` works",
            "`brew install lazyreview` works",
            "Formula auto-updated on release"
          ],
          "priority": "P0",
          "estimate": "M",
          "dependencies": ["US-045"]
        },
        {
          "id": "US-048",
          "title": "Set up CI/CD pipeline",
          "description": "As a developer, I want automated CI/CD so that releases are consistent",
          "acceptanceCriteria": [
            "GitHub Actions workflow for CI (test, lint, build)",
            "GitHub Actions workflow for release",
            "Release triggered by version tags (v*)",
            "Builds all platform binaries",
            "Creates GitHub Release with binaries",
            "Publishes to npm automatically",
            "Updates Homebrew formula automatically"
          ],
          "priority": "P0",
          "estimate": "L",
          "dependencies": ["US-045", "US-046", "US-047"]
        },
        {
          "id": "US-049",
          "title": "Create documentation",
          "description": "As a user, I want documentation so that I can learn how to use the app",
          "acceptanceCriteria": [
            "README with installation instructions",
            "Keybinding cheatsheet",
            "Configuration reference",
            "Provider setup guides",
            "AI setup guide",
            "Troubleshooting section"
          ],
          "priority": "P1",
          "estimate": "M",
          "dependencies": []
        }
      ]
    }
  ],
  "summary": {
    "totalStories": 49,
    "byPriority": {
      "P0": 35,
      "P1": 11,
      "P2": 3
    },
    "byEstimate": {
      "S": 11,
      "M": 21,
      "L": 17
    },
    "byPhase": {
      "Phase 1 - Foundation": 7,
      "Phase 2 - Providers": 8,
      "Phase 3 - TUI Core": 9,
      "Phase 4 - PR Detail": 8,
      "Phase 5 - Advanced": 7,
      "Phase 6 - Polish": 10
    }
  },
  "legacyStories": [
    {
      "category": "functional",
      "description": "TypeScript workspace builds and launches the Ink TUI",
      "relatedStories": ["US-001", "US-016"],
      "passes": true
    },
    {
      "category": "ui",
      "description": "Virtual list renders 1000+ items with keyboard navigation and filtering",
      "relatedStories": ["US-019", "US-022", "US-024"],
      "passes": true
    },
    {
      "category": "ui",
      "description": "Diff view renders a unified diff with scrolling",
      "relatedStories": ["US-025", "US-027"],
      "passes": true
    },
    {
      "category": "integration",
      "description": "Benchmark harness runs for list filtering and windowing",
      "relatedStories": ["US-040"],
      "passes": true
    },
    {
      "category": "integration",
      "description": "Packaging produces a single binary for each OS target",
      "relatedStories": ["US-045", "US-048"],
      "passes": false
    },
    {
      "category": "functional",
      "description": "Providers list pull requests (GitHub, GitLab, Bitbucket, Azure DevOps)",
      "relatedStories": ["US-010", "US-011", "US-012", "US-013"],
      "passes": false
    },
    {
      "category": "integration",
      "description": "SQLite cache and offline queue persist across sessions",
      "relatedStories": ["US-004", "US-038"],
      "passes": false
    },
    {
      "category": "functional",
      "description": "CLI commands match current LazyReview auth/ai/config/queue workflow",
      "relatedStories": ["US-015", "US-037", "US-044"],
      "passes": false
    },
    {
      "category": "functional",
      "description": "Keychain storage is used for auth tokens with a safe fallback",
      "relatedStories": ["US-006"],
      "passes": false
    },
    {
      "category": "functional",
      "description": "AI summary and AI review preview are available in the diff view",
      "relatedStories": ["US-035", "US-036"],
      "passes": false
    },
    {
      "category": "ui",
      "description": "Theme presets and settings panel allow switching themes",
      "relatedStories": ["US-018", "US-039"],
      "passes": false
    },
    {
      "category": "edge-case",
      "description": "Large diff rendering uses worker threads to keep UI responsive",
      "relatedStories": ["US-025", "US-040"],
      "passes": false
    }
  ]
}
